Sunny boy RAG
=====

[使用说明（Usage）](./usage.md)


我们公司是一家电子元器件生产销售公司。在向全球扩张的时候，我们遇到一个关于技术标准问题：
当我们去国外竞标的时候，需要保证我们的产品能够符合国外的标准。但是国外标准很多，缺少系统的、
结构化的数据。公司希望我使用最新的AI技术解决这个问题。我认为这个场景下，定制化的 RAG
会是个不错的选择。

理由如下：

1. 我看了他国的技术规范文档，虽然不是结构化数据，但作为专业文档，格式比较统一
2. 我认为使用AI从中提取数据是可行的
3. 所以拆分技术文档，批量处理，整理成数据库应该也是可行的
4. 然后配合AI自然语言理解，从我们的技术文档中提取产品类型，生成sql查询数据

于是关于本产品，我设计的使用流程是：

1. 上传国外标准技术文档（通常是PDF）
2. 对文档进行拆分，因为文档数量巨大，几乎不可能一次性处理
3. 使用LLM逐片解析，并生成准确的数据库
4. 暂时使用本地数据库 sqlite 存储
5. 因为涉及到引用，比如：“不锈钢元器件需遵守 ABC-001 规范”，
    所以数据可能需要多轮处理
6. 开发 Web UI，提供简单的输入，然后生成 SQL，并检索结果
7. 然后通过AI生成语义化结果

进度
---

- 阶段一（读取+分析+切片）已完成：
  - 支持解析真实 PDF（pdfjs-dist），文本文件将回退为单页解析
  - 自动检测章节标题（1., 1.1 等）并聚合为段落
  - 支持按字符长度切片（默认无重叠，按章节/段落分片）
  - 提供 CLI（ingest）输出 JSON，并写入 sqlite（--db > SUNNY_SQLITE > 内存）
- 测试：包含单元测试、真实 PDF 的 e2e 测试；数据库相关测试在本地可用原生绑定时执行

使用说明
---

- 详细用法参见 usage.md
